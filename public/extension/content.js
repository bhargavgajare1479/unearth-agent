(()=>{const n=function(){const n=document.createElement("div");n.id="unearth-agent-modal",n.style.cssText="\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background-color: white;\n    border: 1px solid #ccc;\n    border-radius: 8px;\n    padding: 20px;\n    width: 90%;\n    max-width: 500px;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n    font-family: sans-serif;\n    color: #333;\n    display: none;\n    flex-direction: column;\n    max-height: 80vh;\n  ";const e=document.createElement("div");e.style.cssText="\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid #eee;\n    padding-bottom: 10px;\n    margin-bottom: 15px;\n  ";const t=document.createElement("h2");t.textContent="Unearth Agent Analysis",t.style.margin="0",t.style.fontSize="18px";const o=document.createElement("button");o.textContent="Ã—",o.style.cssText="\n    border: none;\n    background: transparent;\n    font-size: 24px;\n    cursor: pointer;\n  ",o.onclick=()=>n.style.display="none",e.appendChild(t),e.appendChild(o);const r=document.createElement("div");return r.id="unearth-agent-modal-content",r.style.overflowY="auto",n.appendChild(e),n.appendChild(r),document.body.appendChild(n),n}(),e=document.getElementById("unearth-agent-modal-content");function t(n){if(!n.success)return void(e.innerHTML=`<p style="color: red;">Error: ${n.error}</p>`);const t=n.results,o=t.misScore?.misinformationImmunityScore??"N/A";let r="No detailed analysis available.";t.urlAnalysis&&(r=t.urlAnalysis.riskReasoning),t.textAnalysis&&(r=t.textAnalysis.riskReasoning),t.imageAnalysis&&(r=t.imageAnalysis.riskReasoning),e.innerHTML=`\n    <div style="text-align: center;">\n      <h3 style="margin-top: 0;">Misinformation Immunity Score</h3>\n      <p style="font-size: 48px; font-weight: bold; margin: 10px 0; color: ${o>75?"green":o>40?"orange":"red"};">${o}</p>\n    </div>\n    <div>\n      <h4>Analysis Summary:</h4>\n      <p style="background: #f5f5f5; padding: 10px; border-radius: 4px; font-size: 14px;">${r}</p>\n    </div>\n  `}function o(){document.querySelectorAll("article").forEach(o=>{if(o.querySelector(".unearth-agent-button"))return;const r=function(o){const r=document.createElement("button");return r.innerText="Fact Check",r.className="unearth-agent-button",r.style.cssText="\n    background-color: #2a4d3e;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    padding: 6px 12px;\n    font-size: 12px;\n    cursor: pointer;\n    margin-top: 8px;\n    opacity: 0.8;\n  ",r.onmouseover=()=>r.style.opacity="1",r.onmouseout=()=>r.style.opacity="0.8",r.onclick=async()=>{n.style.display="flex",e.innerHTML='<p style="text-align: center;">Analyzing... This may take a moment.</p>';let r=null;const i=o.querySelector("img"),s=o.querySelector("video"),a=o.querySelector('[data-testid="tweetText"]');i&&i.src?r={type:"url",content:i.src}:s&&s.src?r={type:"url",content:s.src}:a&&a.innerText&&(r={type:"text",content:a.innerText}),r?chrome.runtime.sendMessage({action:"analyzeContent",payload:r,origin:window.location.origin},t):t({success:!1,error:"Couldn't find analyzable content in this post."})},r}(o);o.appendChild(r)})}o(),new MutationObserver(o).observe(document.body,{childList:!0,subtree:!0}),console.log("Unearth Agent content script loaded.")})();
//# sourceMappingURL=content.js.map